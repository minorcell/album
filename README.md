# Studio Album

åŸºäº Next.js 14 + Prisma + MySQL æ„å»ºçš„å·¥ä½œå®¤å†…éƒ¨åœ¨çº¿ç›¸å†Œä¸è¯ä¹¦ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæˆå‘˜ä¸Šä¼ ã€åˆ†ç±»æµè§ˆã€æƒé™æ§åˆ¶ä»¥åŠåˆ†äº«é“¾æ¥è®¿é—®ã€‚

## åŠŸèƒ½æ¦‚è§ˆ

- ğŸ“ åˆ†ç±»ç®¡ç†ï¼šç®¡ç†å‘˜å¯å¢åˆ æ”¹æŸ¥åˆ†ç±»ï¼Œé¦–é¡µå±•ç¤ºåˆ†ç±»ç»Ÿè®¡ã€‚
- ğŸ“· å›¾ç‰‡ä¸Šä¼ ï¼šæˆå‘˜å¯æ‰¹é‡ä¸Šä¼  JPG/PNGï¼Œè‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾å¹¶å­˜å‚¨è‡³ `public/uploads`ã€‚
- ğŸ§‘â€ğŸ¤â€ğŸ§‘ ç”¨æˆ·ä½“ç³»ï¼šæ”¯æŒæ³¨å†Œ / ç™»å½•ï¼Œé¦–ä¸ªæ³¨å†Œç”¨æˆ·è‡ªåŠ¨æˆä¸ºç®¡ç†å‘˜ï¼Œå¯åˆ†é…æˆå‘˜è§’è‰²ã€‚
- ğŸ” æƒé™æ§åˆ¶ï¼šå†™æ“ä½œéœ€ç™»å½•ï¼Œç®¡ç†å‘˜æ‹¥æœ‰åˆ†ç±»ã€ç”¨æˆ·ã€åˆ†äº«é“¾æ¥çš„ç®¡ç†æƒé™ã€‚
- ğŸ”— åˆ†äº«è®¿é—®ï¼šç®¡ç†å‘˜å¯ä¸ºåˆ†ç±»ç”Ÿæˆå¸¦å¯†ç ä¸è¿‡æœŸæ—¶é—´çš„åˆ†äº«é“¾æ¥ï¼Œè®¿å®¢å¯é€šè¿‡é“¾æ¥æµè§ˆå†…å®¹ã€‚
- ğŸ›ï¸ ç®¡ç†åå°ï¼šç»Ÿä¸€å…¥å£ç®¡ç†åˆ†ç±»ã€æˆå‘˜è§’è‰²ã€åˆ†äº«é“¾æ¥ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šNext.js 14ï¼ˆApp Routerï¼‰
- **æ•°æ®åº“**ï¼šPrisma ORM + MySQL
- **è®¤è¯**ï¼šNextAuth.jsï¼ˆCredentials Providerï¼‰
- **æ ·å¼**ï¼šTailwind CSS 4 + shadcn/ui
- **å›¾ç‰‡å¤„ç†**ï¼šsharp
- **åŒ…ç®¡ç†**ï¼špnpm

## å¿«é€Ÿå¼€å§‹

> æƒ³è¦ä¸€æ­¥å®Œæˆä¾èµ–å®‰è£…ã€æ•°æ®åº“åˆå§‹åŒ–ä¸å¼€å‘æœåŠ¡å™¨å¯åŠ¨ï¼Œå¯ç›´æ¥è¿è¡Œï¼š
> ```bash
> ./scripts/dev-start.sh
> ```

1. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆå‚è€ƒ `.env`ï¼Œé»˜è®¤è¿æ¥åˆ°æœ¬åœ° MySQLï¼‰
   ```env
   DATABASE_URL="mysql://album_user:album_password@localhost:3306/cp_album"
   NEXTAUTH_SECRET="your_random_secret"
   NEXTAUTH_URL="http://localhost:3000"
   UPLOAD_PATH="./public/uploads"
   ```

3. **å¯åŠ¨æ•°æ®åº“**
   - æœ¬åœ°å·²æœ‰ MySQLï¼šç¡®ä¿ä¸ `.env` ä¸€è‡´ã€‚
   - æˆ–ä½¿ç”¨ Dockerï¼š
     ```bash
     docker compose up -d mysql
     ```

4. **åˆå§‹åŒ–æ•°æ®åº“ç»“æ„**
   ```bash
   pnpm prisma:push
   ```

5. **ç”Ÿæˆ Prisma Clientï¼ˆé¦–æ¬¡æˆ– schema æ›´æ–°åï¼‰**
   ```bash
   pnpm prisma:generate
   ```

6. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   pnpm dev
   ```
   è®¿é—® <http://localhost:3000>ã€‚

> é¦–æ¬¡æ³¨å†Œçš„è´¦å·å°†è‡ªåŠ¨è·å¾— **ç®¡ç†å‘˜** æƒé™ï¼›ä¹‹åçš„æ³¨å†Œç”¨æˆ·é»˜è®¤ä¸º **æˆå‘˜**ã€‚

## å¯é€‰ï¼šDocker ä¸€é”®å¯åŠ¨

é¡¹ç›®åŒ…å«ç”¨äºå¼€å‘ç¯å¢ƒçš„ `docker-compose.yml` ä¸ `Dockerfile`ï¼š

```bash
docker compose up -d
```

- `mysql` æœåŠ¡æä¾›æ•°æ®åº“ã€‚
- `studio-album` æœåŠ¡è¿è¡Œ Next.js å¼€å‘æœåŠ¡å™¨ï¼ˆ`pnpm dev`ï¼‰ã€‚

## ä¸»è¦è„šæœ¬

| å‘½ä»¤                | è¯´æ˜                          |
| ------------------- | ----------------------------- |
| `c          | å¯åŠ¨å¼€å‘æœåŠ¡å™¨                |
| `pnpm build`        | æ„å»ºç”Ÿäº§ç‰ˆæœ¬                  |
| `pnpm start`        | ä»¥ç”Ÿäº§æ¨¡å¼å¯åŠ¨                |
| `pnpm lint`         | è¿è¡Œ ESLint æ£€æŸ¥              |
| `pnpm prisma:generate` | é‡æ–°ç”Ÿæˆ Prisma Client    |
| `pnpm prisma:push`  | æ¨é€ Prisma schema è‡³æ•°æ®åº“   |

## ç›®å½•ç»“æ„

```
app/                # App Router é¡µé¢ä¸ API Route Handlers
components/         # å¤ç”¨ç»„ä»¶ï¼ˆshadcn/ui é£æ ¼ï¼‰
lib/                # æ•°æ®åº“ä¸é‰´æƒå·¥å…·
prisma/             # Prisma schema å®šä¹‰
public/uploads/     # åŸå›¾ä¸ç¼©ç•¥å›¾å­˜å‚¨ç›®å½•
```

## å…¶ä»–è¯´æ˜

- ä¸Šä¼ çš„åŸå›¾ä¸ç¼©ç•¥å›¾é»˜è®¤å­˜æ”¾äºä»“åº“çš„ `public/uploads/` ç›®å½•ï¼Œéƒ¨ç½²æ—¶å¯æ›¿æ¢ä¸ºå¯¹è±¡å­˜å‚¨ã€‚
- å¦‚æœéœ€è¦å…è®¸ä¾èµ–æ‰§è¡ŒåŸç”Ÿæ„å»ºï¼ˆå¦‚ `sharp`ï¼‰ï¼Œè¯·æ ¹æ®æç¤ºè¿è¡Œ `pnpm approve-builds`ã€‚
- ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹ `NEXTAUTH_SECRET`ã€MySQL å¯†ç ç­‰æ•æ„Ÿé…ç½®ã€‚
